<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>All news • mousetrap</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">mousetrap</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/mousetrap.html">Overview</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pascalkieslich/mousetrap">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">

  <div class="col-md-9">
    <div class="page-header">
      <h1>Change log <small>All releases</small></h1>
    </div>

    <div class="contents">
    <div id="mousetrap-3-0-0" class="section level1">
<h1 class="hasAnchor">
<a href="#mousetrap-3-0-0" class="anchor"> </a>mousetrap 3.0.0</h1>
<div id="general-announcements" class="section level2">
<h2 class="hasAnchor">
<a href="#general-announcements" class="anchor"> </a>General announcements</h2>
<ul>
<li>We are delighted that Dirk Wulff and Jonas Haslbeck have joined the <code>mousetrap</code> team! They are contributing a number of new functions, particularly for clustering and visualization (see function specific author tags).</li>
<li>The documentation of the <code>mousetrap</code> package can now also be found online at <a href="http://pascalkieslich.github.io/mousetrap/" class="uri">http://pascalkieslich.github.io/mousetrap/</a>
</li>
</ul>
</div>
<div id="general-changes-to-existing-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#general-changes-to-existing-functions" class="anchor"> </a>General changes to existing functions</h2>
<ul>
<li>Introduced <code>mousetrap</code> class for mousetrap data objects (such as <code>mt_example</code>). This facilitates, among other things, checking of the data class.</li>
<li>The dimension order for all trajectory arrays was changed. The old order was 1) trials, 2) variables, 3) samples. The new order is 1) trials, 2) samples, 3) variables. All functions and example data were modified accordingly.</li>
<li>Many reshape, aggregation, export, and plotting functions now accept a trajectory array as direct input to <code>data</code>.</li>
<li>In case an analysis functions adds measures to an existing data.frame, existing columns of the same name are now replaced and a warning is displayed (instead of merging the data.frames and adding generic suffixes).</li>
<li>Arguments that were already deprecated and replaced (e.g., <code>show_progress</code> was replaced with <code>verbose</code>) have been removed.</li>
</ul>
</div>
<div id="changes-in-specific-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-in-specific-functions" class="anchor"> </a>Changes in specific functions</h2>
<ul>
<li>
<code>mt_align_start</code>: function is now vectorized and allows for optionally aligning to mean start position across trials; set default for <code>save_as</code> argument to <code>use</code>.</li>
<li>
<code>mt_space_normalize</code>: function is deprecated and replaced with <code>mt_align_start_end</code>. It offers similar functionality as mt_space_normalize but is vectorized and allows aligning to mean start/end position across trials.</li>
<li>
<code>mt_resample</code>: optionally perform partial constant interpolation. Thanks to @sbrockhaus for the suggestion.</li>
<li>
<code>mt_derivatives</code>: optionally return timestamp differences.</li>
<li>
<code>mt_measures</code>: optionally determine number and duration of hovers.</li>
<li>
<code>mt_plot</code>: introduced <code>facet_row</code> and <code>facet_col</code> arguments for faceting.</li>
<li>
<code>mt_plot_add_rect</code>: internal change to avoid warning message (due to changes in ggplot).</li>
<li>
<code>mt_plot_riverbed</code>: explicitly remove zero frequencies instead of relying on the alpha parameter.</li>
</ul>
</div>
<div id="new-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions" class="anchor"> </a>New functions</h2>
<ul>
<li>
<code>read_mt</code>: read MouseTracker raw data (.mt files).</li>
<li>
<code>mt_align</code>: general purpose function for aligning and rescaling trajectories. For specific operations, you can rely on the specialized functions <code>mt_align_start</code> and <code>mt_align_start_end</code>.</li>
<li>
<code>mt_spatialize</code>: re-represent each trajectory spatially so that adjacent points become equidistant to each other.</li>
<li>
<code>mt_add_trajectory</code>: add a new trajectory to a trajectory array.</li>
<li>
<code>mt_bind</code>: join two trajectory arrays.</li>
<li>
<code>mt_count</code>: count the number of observations for each trajectory.</li>
<li>
<code>mt_angles</code>: calculate movement angles for trajectories.</li>
<li>
<code>mt_distmat</code>: compute the distance matrix for each pair of trajectories.</li>
<li>
<code>mt_cluster</code>: perform trajectory clustering with a specified number of clusters.</li>
<li>
<code>mt_cluster_k</code>: estimate the optimal number of clusters using various methods.</li>
<li>
<code>mt_map</code>: map trajectories onto a predefined set of prototype trajectories (default set is provided in <code>mt_prototypes</code>).</li>
</ul>
</div>
<div id="bugs-fixed" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixed" class="anchor"> </a>Bugs fixed</h2>
<ul>
<li>
<code>mt_measures</code>: Make checks for timestamps &gt; 0 and &lt; 0 independent. Thanks to Regina Köhler for pointing this out.</li>
<li>
<code>mt_plot_per_trajectory</code>: fix bug that all trajectories were plotted on each page (introduced through previous change in <code>mt_reshape</code>). Thanks to Bence Palfi for discovering this.</li>
<li>
<code>create_results</code> (internal function): Explicitly select mt_id column (instead of assuming that it is the first column - which is, e.g., often not the case in <code>data[["data"]]</code>); ensure for case <code>overwrite=FALSE</code> that this also works when multiple columns are merged and when all columns except mt_id are dropped beforehand.</li>
</ul>
</div>
<div id="removed-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#removed-functions" class="anchor"> </a>Removed functions</h2>
<ul>
<li>
<code>read_mousetracker</code>: removed as it is recommended to directly import the MouseTracker raw data using the new function <code>read_mt</code>.</li>
<li>
<code>mt_movement_angle</code>: removed as it is replaced with new and more general function <code>mt_angles</code>.</li>
<li>
<code>mt_calculate_derivatives</code>, <code>mt_calculate_deviations</code>, <code>mt_calculate_measures</code>: removed as they were previously deprecated and replaced with <code>mt_derivatives</code>, <code>mt_deviations</code>, <code>mt_measures</code>
</li>
</ul>
</div>
</div>
    <div id="mousetrap-2-0-0" class="section level1">
<h1 class="hasAnchor">
<a href="#mousetrap-2-0-0" class="anchor"> </a>mousetrap 2.0.0</h1>
<div id="general-changes-to-all-existing-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#general-changes-to-all-existing-functions" class="anchor"> </a>General changes to all existing functions</h2>
<ul>
<li>Renamed <code>show_progress</code> argument to <code>verbose</code> (+ set default to <code>FALSE</code>).</li>
<li>Introduced <code>dimensions</code> argument to explicitly specify the names of the columns in the trajectory array that contain the mouse positions. In most cases, the default is <code>c("xpos","ypos")</code> as the x- and y-positions should be used. Note that in some functions (as specified in the documentation) the order of the labels matters, the first value will be taken as the label of the x-positions, the second as the label of the y-positions.</li>
<li>Introduced <code>timestamps</code> argument to explicitly specify the dimension in the trajectory array containing the timestamps.</li>
<li>Perform merging of trial and trajectory data (e.g., in <code>mt_subset</code> and <code>mt_reshape</code>) based on the <code>rownames</code>. Therefore, the <code>mt_id</code> column in data.frames is not needed anymore - but is kept for the convenience of the user. The column is called <code>"mt_id"</code> in import and measures functions. <code>mt_reshape</code> allows the user to specify the label of the <code>mt_id</code> column explicitly.</li>
<li>As a consequence of the previous changes: Removal of the internal variables <code>mt_variable_labels</code> and <code>mt_id</code>.</li>
<li>Removed <code>calculate</code> from all mt_calculate functions: <code>mt_calculate_measures</code>, <code>mt_calculate_derivatives</code>, <code>mt_calculate_deviations</code> are now called <code>mt_measures</code>, <code>mt_derivatives</code>, <code>mt_deviations</code>.</li>
<li>Introduction of internal utils function <code>create_results</code> (that simplifies including the newly created trajectories or measures in the existing mousetrap data object).</li>
<li>Performance improvement of reshaping, aggregation, and visualization functions through internal changes in <code>mt_reshape</code>: <code>base::merge</code> and <code>reshape2</code> functions are replaced with functions from the <code>tidyr</code> and <code>dplyr</code> packages (and custom functions). Package dependencies were adjusted accordingly. As the <code>dplyr</code> functions may introduce additional classes for the reshaped data (such as <code>grouped_df</code> and <code>tbl_df</code>), a new argument (<code>convert_df</code>) is introduced that converts the reshaped data to pure data.frames by default (thereby dropping additional classes).</li>
</ul>
</div>
<div id="changes-in-specific-functions-1" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-in-specific-functions-1" class="anchor"> </a>Changes in specific functions</h2>
<ul>
<li>
<code>mt_import_mousetrap</code>, <code>mt_import_long</code>, <code>mt_import_wide</code>: Allow specifying several variables for the trial identifier in <code>mt_id_label</code>. A new ID variable will be created by combining the values of each variable.</li>
<li>
<code>mt_import_mousetrap</code>: Make import more robust against variables with empty logs (warning message is returned in the end) (closes #5, thanks to @sbrockhaus).</li>
<li>
<code>mt_import_long</code>, <code>mt_import_wide</code>: Import any number of additional variables using <code>add_labels</code> (closes #4).</li>
<li>
<code>mt_import_long</code>: Timestamps are no longer used for ordering if <code>mt_seq_label</code> is not provided. Instead, data will be imported in the order in which they were stored in <code>raw_data</code>.</li>
<li>
<code>mt_import_long</code>: Improved speed by relying on functions from the <code>tidyr</code> and <code>dplyr</code> packages.</li>
<li>
<code>mt_space_normalize</code>, <code>mt_align_start</code>: Introduction of <code>dimensions</code> argument and the corresponding arguments <code>start</code> and <code>end</code> (deprecate <code>xpos_start</code>/<code>xpos_end</code>/<code>ypos_start</code>/<code>ypos_end</code>). This also fixes the internal bug that in <code>mt_align_start</code> <code>xpos_start</code> was passed on as <code>ypos_start</code> to <code>mt_space_normalize</code> (instead of <code>ypos_start</code>).</li>
<li>
<code>mt_derivatives</code>: Rename <code>dimension</code> argument to <code>dimensions</code>, enable function to work with an arbitrary number of dimensions.</li>
<li>
<code>mt_deviations</code>: Vectorized function <code>point_to_line</code> for time speed up (closes #2, thanks to @sbrockhaus).</li>
<li>
<code>mt_measures</code>: Allow for flexible dimension labels and rename all measures columns relating only to x- or y-positions depending on the values in dimensions (e.g., <code>x_max</code> becomes <code>xpos_max</code>, <code>x_flips</code> becomes <code>xpos_flips</code>). Change column label <code>xy_dist</code> to <code>total_dist</code>.</li>
<li>
<code>mt_measures</code>: Simplify AUC calculation using the actual x- and y-positions . New AUC values correlate to 1.00 with old values in <code>mt_example</code>, but in some cases extremely small differences are possible (maximum difference of 2.328e-10 in mt_example).</li>
<li>
<code>mt_reshape</code>, <code>mt_aggregate</code>, <code>mt_aggregate_per_subject</code>: Replace <code>aggregation_function</code> argument with <code>.funs</code>, which is passed on to the aggregation function(<code>summarize_at</code>). <code>.funs</code> also allows for specifying several aggregation functions.</li>
<li>
<code>mt_plot_per_trajectory</code>: New arguments <code>xlim</code> and <code>ylim</code> for specifying the axes limits explicitly and <code>axes_exact</code> for plotting exact axes.</li>
<li>
<code>mt_plot_per_trajectory</code>: New arguments <code>rect</code>, <code>color</code>, and <code>fill</code> for plotting rectangles (usually representing the response buttons).</li>
<li>
<code>mt_plot</code> (and related functions): New argument <code>points</code> allows for plotting points.</li>
</ul>
</div>
<div id="new-functions-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-1" class="anchor"> </a>New functions</h2>
<ul>
<li>
<code>mt_add_variables</code>: add new variables to trajectory array.</li>
<li>
<code>mt_export_long</code>: export mouse-tracking data in long format (wrapper for <code>mt_reshape</code>).</li>
<li>
<code>mt_export_wide</code>: export mouse-tracking data in wide format (wrapper for <code>mt_reshape</code>).</li>
</ul>
</div>
<div id="bugs-fixed-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixed-1" class="anchor"> </a>Bugs fixed</h2>
<ul>
<li>
<code>mt_align_start</code>: Fixed bug that <code>xpos_start</code> (instead of <code>ypos_start</code>) was passed on as <code>ypos_start</code> to <code>mt_space_normalize</code>.</li>
<li>
<code>mt_average</code>: Fixed bug that if intervals were specified explicitly using <code>intervals</code>, the wrong interval size was used when averaging (the default size of 100 was used).</li>
</ul>
</div>
</div>
    <div id="mousetrap-1-2-0" class="section level1">
<h1 class="hasAnchor">
<a href="#mousetrap-1-2-0" class="anchor"> </a>mousetrap 1.2.0</h1>
<ul>
<li>New function <code>mt_align_start</code> adjusts trajectories so that they have the same start position (wrapper for <code>mt_space_normalize</code>)</li>
<li>New function <code>mt_calculate_deviations</code> calculates the idealized trajectory and the perpendicular deviations of the actual trajectory from it for each position in the trajectory array</li>
<li>For many functions, a trajectory array can now be provided directly via the <code>data</code> argument. In this case, the <code>use</code> argument will be ignored and only the resulting trajectory array will be returned</li>
<li>
<code>mt_plot_riverbed</code> now preserves factor levels for facets</li>
<li>
<code>mt_calculate_derivatives</code> now allows for custom dimension names using the <code>prefix</code> argument</li>
<li>
<code>mt_plot_per_trajectory</code> now receives the file name as the first argument</li>
</ul>
</div>
    <div id="mousetrap-1-1-0" class="section level1">
<h1 class="hasAnchor">
<a href="#mousetrap-1-1-0" class="anchor"> </a>mousetrap 1.1.0</h1>
<ul>
<li>
<code>mt_import_mousetrap</code> now offers possibility to combine several variables in mouse-tracking raw data</li>
<li>
<code>mt_plot_riverbed</code> now allows for faceting</li>
<li>
<code>mt_check_resolution</code> now offers possibility to check (relative) frequencies of desired timestamp differences</li>
<li>Improved preprocessing of mouse-tracking raw data for <code>mt_import_mousetrap</code>
</li>
<li>Change of default scale for fill in <code>mt_plot_riverbed</code>
</li>
<li>Custom x and y axis labels for <code>mt_plot_riverbed</code> can no longer be set via <code>x_label</code> and <code>y_label</code> (but can be added using the <code>ggplot2</code> functions <code>xlab()</code> and <code>ylab()</code>, see Examples)</li>
<li>Minor fix in package documentation (#1) (thanks to @sbrockhaus)</li>
<li>Minor fix in documentation of x/y reversals (thanks to Barnabas Szaszi)</li>
</ul>
</div>
    <div id="mousetrap-1-0-0" class="section level1">
<h1 class="hasAnchor">
<a href="#mousetrap-1-0-0" class="anchor"> </a>mousetrap 1.0.0</h1>
<ul>
<li>First release</li>
</ul>
</div>
    </div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#mousetrap-3-0-0">3.0.0</a></li>
        <li><a href="#mousetrap-2-0-0">2.0.0</a></li>
        <li><a href="#mousetrap-1-2-0">1.2.0</a></li>
        <li><a href="#mousetrap-1-1-0">1.1.0</a></li>
        <li><a href="#mousetrap-1-0-0">1.0.0</a></li>
      </ul>
    </div>
  </div>

</div>

      <footer>
      <div class="copyright">
  <p>Developed by Pascal J. Kieslich, Dirk U. Wulff, Felix Henninger, Jonas M. B. Haslbeck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
